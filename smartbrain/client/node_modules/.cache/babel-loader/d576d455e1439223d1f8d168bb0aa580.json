{"ast":null,"code":"var _jsxFileName = \"/smartbrain/client/src/components/Profile.js\";\nimport React, { Component } from 'react';\nimport Rank from '../components/Rank';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Profile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onButtonUpdate = data => {\n      fetch(`${process.env.REACT_APP_SERVER_URL}/profile/${this.props.user.id}`, {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': window.sessionStorage.getItem('token')\n        },\n        body: JSON.stringify({\n          formInput: data\n        })\n      }).then(resp => {\n        if (resp.status === 200 || resp.status === 304) {\n          //this.props.toggleModal();\n          this.props.loadUser({ ...this.props.user,\n            ...data\n          });\n        }\n      }).catch(console.log);\n    };\n\n    this.onFormChange = e => {\n      switch (e.target.name) {\n        case 'user-name':\n          this.setState({\n            name: e.target.value\n          });\n          break;\n\n        default:\n          return;\n      }\n    };\n\n    this.onButtonCancel = () => {\n      this.setState({\n        name: this.props.user.name\n      });\n    };\n\n    this.state = {\n      name: this.props.user.name\n    };\n  }\n\n  render() {\n    const {\n      user\n    } = this.props;\n    const {\n      name\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"article\", {\n      className: \"center tc measure\",\n      children: [/*#__PURE__*/_jsxDEV(\"main\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"db fw6 lh-copy f4 white b text-shadow\",\n          children: [\"Name:\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ttu yellow long-text ph2\",\n            children: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"align mv3\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"db fw6 lh-copy f4 white b mv4 text-shadow\",\n            children: [\"Current Rank:\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"pa1 bg-yellow ba bw2 b--black mh2 ph2\",\n              children: /*#__PURE__*/_jsxDEV(Rank, {\n                entries: user.entries\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"db fw6 lh-copy f4 white b mv4 text-shadow\",\n          children: [\"Total Images Submitted:\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ttu yellow ph2\",\n            children: user.entries\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"db fw6 lh-copy f4 white b mv4 text-shadow\",\n          children: [\"Member Since:\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ttu yellow ph2\",\n            children: new Date(user.joined).toLocaleDateString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"b ph3 pv2 input-reset ba bg-black white grow pointer f6 dib hover-bg-yellow ttu shadow-1\",\n        onClick: () => {\n          this.setState({\n            editToggle: !this.state.editToggle\n          });\n        },\n        children: \"Edit Name ?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this), this.state.editToggle ?\n      /*#__PURE__*/\n      // show\n      _jsxDEV(\"div\", {\n        className: \"center measure\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: this.onFormChange,\n          type: \"text\",\n          name: \"user-name\",\n          className: \"pa2 input-reset ba bg-white hover-bg-black hover-white mv3 f5 input-profile\",\n          value: name,\n          placeholder: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"b ph3 pv2 mh3 input-reset ba bg-black white grow pointer f6 dib hover-bg-yellow ttu shadow-1\",\n            onClick: () => this.onButtonUpdate({\n              name\n            }),\n            children: \"Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"b ph3 pv2 mh3 input-reset ba bg-red white grow pointer f6 dib hover-bg-yellow ttu shadow-1\",\n            onClick: () => this.onButtonCancel({\n              name\n            }),\n            children: \"Reset\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this) : '' // hide\n      ]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default Profile;","map":{"version":3,"sources":["/smartbrain/client/src/components/Profile.js"],"names":["React","Component","Rank","Profile","constructor","props","onButtonUpdate","data","fetch","process","env","REACT_APP_SERVER_URL","user","id","method","headers","window","sessionStorage","getItem","body","JSON","stringify","formInput","then","resp","status","loadUser","catch","console","log","onFormChange","e","target","name","setState","value","onButtonCancel","state","render","entries","Date","joined","toLocaleDateString","editToggle"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Rank from '../components/Rank';\n\nclass Profile extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      name: this.props.user.name\n    }\n  }\n\n  \n  onButtonUpdate = (data) => {\n    fetch(`${process.env.REACT_APP_SERVER_URL}/profile/${this.props.user.id}`, {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': window.sessionStorage.getItem('token')\n      },\n      body: JSON.stringify({\n        formInput: data\n      })\n    }).then(resp => {\n      if (resp.status === 200 || resp.status === 304) {\n        //this.props.toggleModal();\n        this.props.loadUser({ ...this.props.user, ...data });\n      }\n    }).catch(console.log)\n  }\n\n  onFormChange = (e) => {\n    switch(e.target.name) {\n      case 'user-name':\n        this.setState({name: e.target.value})\n        break;\n      default:\n        return;\n    }\n  }\n\n  // reset name\n  onButtonCancel = () => {\n    this.setState({name: this.props.user.name})\n  }\n\n\n  render() {\n\n    const { user } = this.props;\n    const { name } = this.state;\n\n    return (\n\n        <article className=\"center tc measure\">\n          <main>\n\n            <p className=\"db fw6 lh-copy f4 white b text-shadow\">Name:\n              <span className=\"ttu yellow long-text ph2\">{name}</span>\n            </p>\n\n            <div className=\"align mv3\">\n              <p className=\"db fw6 lh-copy f4 white b mv4 text-shadow\">Current Rank:\n                <span className=\"pa1 bg-yellow ba bw2 b--black mh2 ph2\">\n                  <Rank entries={user.entries} />\n                </span>\n              </p>\n            </div>\n\n            <p className=\"db fw6 lh-copy f4 white b mv4 text-shadow\">Total Images Submitted:\n              <span className=\"ttu yellow ph2\">{user.entries}</span>\n            </p>\n            <p className=\"db fw6 lh-copy f4 white b mv4 text-shadow\">Member Since:\n              <span className=\"ttu yellow ph2\">{new Date(user.joined).toLocaleDateString()}</span>\n            </p>\n\n          </main>\n\n          <button \n            className=\"b ph3 pv2 input-reset ba bg-black white grow pointer f6 dib hover-bg-yellow ttu shadow-1\"\n            onClick={()=>{this.setState({editToggle:!this.state.editToggle})}}\n          >\n            Edit Name ?\n          </button>\n          \n\n          {this.state.editToggle ?  \n          (// show\n          <div className=\"center measure\">\n         \n            <input \n              onChange={this.onFormChange} \n              type='text' \n              name='user-name' \n              className='pa2 input-reset ba bg-white hover-bg-black hover-white mv3 f5 input-profile' \n              value={name}\n              placeholder={name}\n            >\n            </input>\n\n            <div className='mt3'>\n              <button\n                className='b ph3 pv2 mh3 input-reset ba bg-black white grow pointer f6 dib hover-bg-yellow ttu shadow-1'\n                onClick={() => this.onButtonUpdate({name})}\n              >\n                Update\n              </button>\n              <button \n                className='b ph3 pv2 mh3 input-reset ba bg-red white grow pointer f6 dib hover-bg-yellow ttu shadow-1'\n                onClick={() => this.onButtonCancel({name})}\n              >\n                Reset\n              </button>\n            </div>\n\n            \n          </div>\n          )\n            : \n          '' // hide\n          \n          }\n\n        </article>\n    );\n\n  }\n\n}\n\nexport default Profile;"]},"metadata":{},"sourceType":"module"}